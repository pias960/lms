




{% extends 'base/base.html' %}
   {% block content %}
<style>
    img {
        display: block !important;
    }
    
</style>

    <div class="slider-area">
        <div class="pages-title">
            <div class="single-slider slider-height slider-height-breadcrumb d-flex align-items-center" style="background-image: url(/static/assets/img/bg/others_bg.jpg);">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="slider-content slider-content-breadcrumb text-center">
                                <h1 class="white-color f-700">Videos</h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- slider-end -->
    <!-- courses start -->
    {% if metarials %}
    <div class="events-area gray-bg pt-100 pb-70">
        <div class="container">
            <div class="events-list">
                <div class="row">
                    {% for i in metarials %}
                    <div class="col-xl-6 offset-xl-0 col-lg-6 offset-lg-0 col-md-10 offset-md-1">
                        <div class="single-events mb-30">
                            <div class="events-wrapper events-wrapper-padding">
                                <div class="events-inner d-flex">
                                    <a href="{% url 'metarials_details' course.id %}"><img src="{{i.image.urls}}" alt=""></a>
                                    </div>
                                    <div class="events-text white-bg">
                                        <div class="event-text-heading mb-20">
                                            <div class="events-calendar text-center f-left">
                                                <span class="date">{{ i.uploaded_at.day }}</span>
                                                <span class="month">{{ i.uploaded_at.month }}, {{ i.uploaded_at.year }}</span>
                                            </div>
                                            <div class="events-text-title clearfix">
                                                <a href="{% url 'metarials_details' i.id %}">
                                                    <h4>{{ i.tile }}</h4>
                                                </a>
                                                <div class="time-area">
                                                    <span class="ti-time"></span>
                                                    <span class="published-time">{{ i.duration }}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="events-para">
                                            <p>{{ i.description | truncatechars:20 }}</p>
                                        </div>
                                        <div class="events-speaker">
                                            <h2>Teacher: <span>{{ i.course.teacher.username }}</span></h2>
                                        </div>
                                        <div class="text-center mt-3">
                                            <a href="{% url 'metarials_details' i.id %}" class="btn btn-primary">View Video</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                <!-- Pagination -->
                {% if metarials.has_other_pages %}
                <div class="row">
                    <div class="col-xl-12 text-center">
                        <div class="single-events-btn mt-15 mb-30">
                            <nav class="course-pagination mb-30" aria-label="Page navigation example">
                                <ul class="pagination justify-content-center">
                                    {% if metarials.has_previous %}
                                    <li class="page-item">
                                        <a class="page-link" href="?page={{ metarials.previous_page_number }}">
                                            <span class="ti-angle-left"></span>
                                        </a>
                                    </li>
                                    {% endif %}
    
                                    {% for num in metarials.paginator.page_range %}
                                    <li class="page-item {% if metarials.number == num %}active{% endif %}">
                                        <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                                    </li>
                                    {% endfor %}
    
                                    {% if metarials.has_next %}
                                    <li class="page-item">
                                        <a class="page-link" href="?page={{ metarials.next_page_number }}">
                                            <span class="ti-angle-right"></span>
                                        </a>
                                    </li>
                                    {% endif %}
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    {% else %}
    <div class="container text-center">
        <h2>No Videos Added yet</h2>
    </div>
    {% endif %}
    <div class="courses-view-more-area mt-20 mb-30 text-center">
        <div class="row">
            <div class="col-xl-12">
                <div class="courses-view-more-btn">
                <a href="{% url 'assignment_list' course.id %}"> <button class="btn gray-border-btn">Assignments</button></a>
                </div>
            </div>
        </div>
    </div> 
    {% endblock content %}